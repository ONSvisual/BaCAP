import{_ as u}from"../../chunks/preload-helper-60cab3ee.js";import{S as x,i as v,s as A,e as d,c as g,a as h,d as s,b,f as c,g as y,J as k,E as m,v as w}from"../../chunks/index-c4b4a3b1.js";function z(i){let o,t;return{c(){o=d("main"),t=d("div"),this.h()},l(a){o=g(a,"MAIN",{});var l=h(o);t=g(l,"DIV",{id:!0,style:!0,class:!0}),h(t).forEach(s),l.forEach(s),this.h()},h(){b(t,"id","lmap"),c(t,"height",i[0]),c(t,"width","100%"),b(t,"class","svelte-hs5vhq")},m(a,l){y(a,o,l),k(o,t)},p(a,[l]){l&1&&c(t,"height",a[0])},i:m,o:m,d(a){a&&s(o)}}}function E(i,o,t){let{height:a="400px"}=o,{minimap:l}=o,r=!1;w(async()=>{const e=await u(()=>import("../../chunks/leaflet-src-8658db80.js").then(function(f){return f.l}),["chunks/leaflet-src-8658db80.js","chunks/_commonjsHelpers-c771f69b.js"]);r=e.map("lmap",{center:[0,52].reverse(),zoom:5});var n=e.tileLayer("https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | Office for National Statistics UK'});r.addLayer(n),await r.on("load",()=>p(l)),p(l)});function p(e){if(console.log("dd",e.length,typeof e,typeof e=="string"||e instanceof String),e.length<1|!r){console.log(r);return}if(typeof e=="string"||e instanceof String){var n=JSON.parse(e);console.log("yay?",n)}else var n=e;console.error("ggg",n);var f=L.geoJSON(n,{style:{color:"red"}});f.addTo(r),r.fitBounds(f.getBounds(),{padding:[14,14]})}return i.$$set=e=>{"height"in e&&t(0,a=e.height),"minimap"in e&&t(1,l=e.minimap)},i.$$.update=()=>{i.$$.dirty&2&&p(l)},[a,l]}class C extends x{constructor(o){super(),v(this,o,E,z,A,{height:0,minimap:1})}}export{C as default};
